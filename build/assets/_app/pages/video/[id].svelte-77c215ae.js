import{S as a,i as s,s as e,e as c,t,k as l,c as r,a as o,d as n,g as i,n as f,b as d,f as h,F as u,R as m,K as p,P as v,Q as x,V as g,W as E,E as b,j as I,m as w,o as k,x as y,u as V,v as D,l as j,X as P,Y as A,w as $,I as N,Z as S,_ as T,A as H,r as O,$ as R,a0 as F,a1 as L,h as M}from"../../chunks/vendor-18270294.js";function q(a){let s,e,E,b,I,w,k,y,V,D,j,P,A,$,N,S;return{c(){s=c("div"),e=c("h1"),E=c("i"),b=t(" Prayer Requests"),I=l(),w=c("div"),k=l(),y=c("form"),V=c("input"),D=l(),j=c("button"),P=c("i"),this.h()},l(a){s=r(a,"DIV",{class:!0});var c=o(s);e=r(c,"H1",{class:!0});var t=o(e);E=r(t,"I",{class:!0}),o(E).forEach(n),b=i(t," Prayer Requests"),t.forEach(n),I=f(c),w=r(c,"DIV",{class:!0}),o(w).forEach(n),k=f(c),y=r(c,"FORM",{action:!0,class:!0});var l=o(y);V=r(l,"INPUT",{type:!0,placeholder:!0,class:!0}),D=f(l),j=r(l,"BUTTON",{class:!0});var d=o(j);P=r(d,"I",{class:!0}),o(P).forEach(n),d.forEach(n),l.forEach(n),c.forEach(n),this.h()},h(){d(E,"class","fas fa-arrow-left mr-6"),d(e,"class","text-2xl"),d(w,"class","flex-auto"),d(V,"type","text"),d(V,"placeholder","Your request"),d(V,"class","focus:border-black outline-none border border-r-0 p-2 flex-auto"),d(P,"class","fas fa-arrow-up"),d(j,"class","btn"),d(y,"action",""),d(y,"class","flex"),d(s,"class","fixed w-full md:w-3/12  bg-white top-0 bottom-0 left-0 p-10 flex flex-col")},m(c,t){h(c,s,t),u(s,e),u(e,E),u(e,b),u(s,I),u(s,w),u(s,k),u(s,y),u(y,V),u(y,D),u(y,j),u(j,P),$=!0,N||(S=m(E,"click",a[1]),N=!0)},p:p,i(a){$||(v((()=>{A||(A=x(s,g,{duration:1e3,x:0},!0)),A.run(1)})),$=!0)},o(a){A||(A=x(s,g,{duration:1e3,x:0},!1)),A.run(0),$=!1},d(a){a&&n(s),a&&A&&A.end(),N=!1,S()}}}function C(a){const s=E();return[s,()=>s("visible",!1)]}class Q extends a{constructor(a){super(),s(this,a,C,q,e,{})}}function U(a,s,e){const c=a.slice();return c[17]=s[e].id,c[18]=s[e].stream,c[20]=e,c}function W(a){let s,e,t,l;return{c(){s=c("video"),this.h()},l(a){s=r(a,"VIDEO",{class:!0}),o(s).forEach(n),this.h()},h(){s.autoplay=!0,d(s,"class","full-video svelte-13g81ul")},m(c,r){h(c,s,r),t||(l=F(e=Z.call(null,s,a[18])),t=!0)},p(s,c){a=s,e&&L(e.update)&&1&c&&e.update.call(null,a[18])},d(a){a&&n(s),t=!1,l()}}}function Y(a){let s,e,m,p,v,x,g,E=a[17]+"";return{c(){s=c("h1"),e=t(E),m=l(),p=c("video"),this.h()},l(a){s=r(a,"H1",{class:!0});var c=o(s);e=i(c,E),c.forEach(n),m=f(a),p=r(a,"VIDEO",{class:!0}),o(p).forEach(n),this.h()},h(){d(s,"class","text-3xl my-4"),p.autoplay=!0,d(p,"class","thumbnail-video svelte-13g81ul")},m(c,t){h(c,s,t),u(s,e),h(c,m,t),h(c,p,t),x||(g=F(v=Z.call(null,p,a[18])),x=!0)},p(s,c){a=s,1&c&&E!==(E=a[17]+"")&&M(e,E),v&&L(v.update)&&1&c&&v.update.call(null,a[18])},d(a){a&&n(s),a&&n(m),a&&n(p),x=!1,g()}}}function _(a){let s,e,m,p,v,x,g,E=a[17]+"";return{c(){s=c("h1"),e=t(E),m=l(),p=c("span"),v=c("i"),x=l(),g=c("i"),this.h()},l(a){s=r(a,"H1",{class:!0});var c=o(s);e=i(c,E),c.forEach(n),m=f(a),p=r(a,"SPAN",{class:!0});var t=o(p);v=r(t,"I",{class:!0}),o(v).forEach(n),x=f(t),g=r(t,"I",{class:!0}),o(g).forEach(n),t.forEach(n),this.h()},h(){d(s,"class","text-3xl my-4"),d(v,"class","fas fa-circle text-green-500 fa-stack-2x "),d(g,"class","fas fa-chair fa-stack-1x text-white"),d(p,"class","fa-stack fa-2x")},m(a,c){h(a,s,c),u(s,e),h(a,m,c),h(a,p,c),u(p,v),u(p,x),u(p,g)},p(a,s){1&s&&E!==(E=a[17]+"")&&M(e,E)},d(a){a&&n(s),a&&n(m),a&&n(p)}}}function z(a){let s,e,t,i;function p(a,s){return 0==a[4]?_:1==a[4]?Y:W}let v=p(a),x=v(a);return{c(){s=c("div"),x.c(),e=l(),this.h()},l(a){s=r(a,"DIV",{class:!0});var c=o(s);x.l(c),e=f(c),c.forEach(n),this.h()},h(){d(s,"class","border flex flex-col justify-center items-center rounded-xl bg-white"),b(s,"py-6",2!==a[4])},m(c,l){h(c,s,l),x.m(s,null),u(s,e),t||(i=m(s,"dblclick",a[5]),t=!0)},p(a,c){v===(v=p(a))&&x?x.p(a,c):(x.d(1),x=v(a),x&&(x.c(),x.m(s,e))),16&c&&b(s,"py-6",2!==a[4])},d(a){a&&n(s),x.d(),t=!1,i()}}}function B(a){let s,e;return s=new Q({}),s.$on("visible",a[11]),{c(){I(s.$$.fragment)},l(a){w(s.$$.fragment,a)},m(a,c){k(s,a,c),e=!0},p:p,i(a){e||(y(s.$$.fragment,a),e=!0)},o(a){V(s.$$.fragment,a),e=!1},d(a){D(s,a)}}}function K(a){let s,e,p,v,x,g,E,I,w,k,D,T,H,R,F,L,M,q,C,Q,W,Y,_,K,X,Z,G,J,aa,sa,ea,ca,ta,la,ra,oa,na,ia,fa,da,ha,ua,ma,pa,va,xa,ga,Ea,ba,Ia,wa,ka,ya,Va,Da=a[0],ja=[];for(let c=0;c<Da.length;c+=1)ja[c]=z(U(a,Da,c));let Pa=a[1]&&B(a);return{c(){s=c("script"),p=l(),v=c("div"),x=c("div"),g=c("iframe"),I=l(),w=c("div"),k=c("h1"),D=c("i"),T=l(),H=c("h1"),R=t("Name"),F=l(),L=c("a"),M=t("Subscribe "),q=c("span"),C=t("33"),Q=l(),W=c("a"),Y=t("Likes"),_=l(),K=c("div");for(let a=0;a<ja.length;a+=1)ja[a].c();X=l(),Z=c("div"),G=c("div"),J=c("span"),aa=c("i"),sa=l(),ea=c("i"),ca=l(),ta=c("div"),la=c("span"),ra=c("i"),oa=l(),na=c("i"),ia=l(),fa=c("div"),da=c("span"),ha=c("i"),ua=l(),ma=c("i"),pa=l(),va=c("div"),xa=c("span"),ga=c("i"),Ea=l(),ba=c("i"),Ia=l(),Pa&&Pa.c(),wa=j(),this.h()},l(a){const e=P('[data-svelte="svelte-4n7nzi"]',document.head);s=r(e,"SCRIPT",{src:!0}),o(s).forEach(n),e.forEach(n),p=f(a),v=r(a,"DIV",{class:!0});var c=o(v);x=r(c,"DIV",{class:!0});var t=o(x);g=r(t,"IFRAME",{class:!0,src:!0,title:!0,frameborder:!0,allow:!0}),o(g).forEach(n),I=f(t),w=r(t,"DIV",{class:!0});var l=o(w);k=r(l,"H1",{class:!0});var d=o(k);D=r(d,"I",{class:!0}),o(D).forEach(n),d.forEach(n),T=f(l),H=r(l,"H1",{class:!0});var h=o(H);R=i(h,"Name"),h.forEach(n),F=f(l),L=r(l,"A",{href:!0,class:!0});var u=o(L);M=i(u,"Subscribe "),q=r(u,"SPAN",{class:!0});var m=o(q);C=i(m,"33"),m.forEach(n),u.forEach(n),Q=f(l),W=r(l,"A",{href:!0});var E=o(W);Y=i(E,"Likes"),E.forEach(n),l.forEach(n),t.forEach(n),_=f(c),K=r(c,"DIV",{class:!0});var b=o(K);for(let s=0;s<ja.length;s+=1)ja[s].l(b);b.forEach(n),c.forEach(n),X=f(a),Z=r(a,"DIV",{class:!0,id:!0});var y=o(Z);G=r(y,"DIV",{});var V=o(G);J=r(V,"SPAN",{class:!0});var A=o(J);aa=r(A,"I",{class:!0}),o(aa).forEach(n),sa=f(A),ea=r(A,"I",{class:!0}),o(ea).forEach(n),A.forEach(n),V.forEach(n),ca=f(y),ta=r(y,"DIV",{class:!0});var $=o(ta);la=r($,"SPAN",{class:!0});var N=o(la);ra=r(N,"I",{class:!0}),o(ra).forEach(n),oa=f(N),na=r(N,"I",{class:!0}),o(na).forEach(n),N.forEach(n),$.forEach(n),ia=f(y),fa=r(y,"DIV",{class:!0});var S=o(fa);da=r(S,"SPAN",{class:!0});var O=o(da);ha=r(O,"I",{class:!0}),o(ha).forEach(n),ua=f(O),ma=r(O,"I",{class:!0}),o(ma).forEach(n),O.forEach(n),S.forEach(n),pa=f(y),va=r(y,"DIV",{class:!0});var U=o(va);xa=r(U,"SPAN",{class:!0});var z=o(xa);ga=r(z,"I",{class:!0}),o(ga).forEach(n),Ea=f(z),ba=r(z,"I",{class:!0}),o(ba).forEach(n),z.forEach(n),U.forEach(n),y.forEach(n),Ia=f(a),Pa&&Pa.l(a),wa=j(),this.h()},h(){document.title="VIDEO CHAT",A(s.src,e="https://unpkg.com/peerjs@1.3.1/dist/peerjs.min.js")||d(s,"src","https://unpkg.com/peerjs@1.3.1/dist/peerjs.min.js"),s.defer=!0,d(g,"class","md:w-8/12 svelte-13g81ul"),A(g.src,E="https://www.youtube.com/embed/pF0WLHERdOQ")||d(g,"src","https://www.youtube.com/embed/pF0WLHERdOQ"),d(g,"title","YouTube video player"),d(g,"frameborder","0"),d(g,"allow","accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"),g.allowFullscreen=!0,d(D,"class","fab fa-youtube fa-3x text-red-700"),d(k,"class","text-center"),d(H,"class","text-center"),d(q,"class","text-right"),d(L,"href",""),d(L,"class"," flex flex-row justify-between"),d(W,"href",""),d(w,"class","flex-1 p-10 flex flex-col items-stretch justify-center gap-6"),d(x,"class","md:flex flex-wrap mb-3"),d(K,"class","grid grid-cols-2 gap-4 md:grid-cols-4 md:gap-4 md:gap-y-12"),d(v,"class","container mx-auto p-2"),d(aa,"class","fas fa-circle fa-stack-2x"),b(aa,"text-green-600",a[2]),b(aa,"text-red-600",!a[2]),d(ea,"class","fas fa-stack-1x fa-inverse"),b(ea,"fa-microphone",a[2]),b(ea,"fa-microphone-slash",!a[2]),d(J,"class","fa-stack fa-lg rounded-full shadow-xl"),d(ra,"class","fas fa-circle fa-stack-2x "),b(ra,"text-green-600",a[3]),b(ra,"text-red-600",!a[3]),d(na,"class","fas fa-video fa-stack-1x fa-inverse"),d(la,"class","fa-stack fa-lg rounded-full shadow-xl"),d(ta,"class","md:ml-5"),d(ha,"class","fas fa-circle fa-stack-2x text-indigo-600"),d(ma,"class","fas fa-praying-hands fa-stack-1x fa-inverse"),d(da,"class","fa-stack fa-lg rounded-full shadow-xl"),d(fa,"class","md:ml-5"),d(ga,"class","fas fa-circle fa-stack-2x text-purple-700"),d(ba,"class","fas fa-chair fa-stack-1x fa-inverse"),d(xa,"class","fa-stack fa-lg rounded-full shadow-xl"),d(va,"class","md:ml-5"),d(Z,"class","fixed md:left-0 right-0 bottom-16 md:bottom-5 container mx-auto flex justify-center text-xl flex-row "),d(Z,"id","controls")},m(e,c){u(document.head,s),h(e,p,c),h(e,v,c),u(v,x),u(x,g),u(x,I),u(x,w),u(w,k),u(k,D),u(w,T),u(w,H),u(H,R),u(w,F),u(w,L),u(L,M),u(L,q),u(q,C),u(w,Q),u(w,W),u(W,Y),u(v,_),u(v,K);for(let a=0;a<ja.length;a+=1)ja[a].m(K,null);h(e,X,c),h(e,Z,c),u(Z,G),u(G,J),u(J,aa),u(J,sa),u(J,ea),u(Z,ca),u(Z,ta),u(ta,la),u(la,ra),u(la,oa),u(la,na),u(Z,ia),u(Z,fa),u(fa,da),u(da,ha),u(da,ua),u(da,ma),u(Z,pa),u(Z,va),u(va,xa),u(xa,ga),u(xa,Ea),u(xa,ba),h(e,Ia,c),Pa&&Pa.m(e,c),h(e,wa,c),ka=!0,ya||(Va=[m(G,"click",a[6]),m(ta,"click",a[7]),m(fa,"click",a[9]),m(va,"click",a[10])],ya=!0)},p(a,[s]){if(49&s){let e;for(Da=a[0],e=0;e<Da.length;e+=1){const c=U(a,Da,e);ja[e]?ja[e].p(c,s):(ja[e]=z(c),ja[e].c(),ja[e].m(K,null))}for(;e<ja.length;e+=1)ja[e].d(1);ja.length=Da.length}4&s&&b(aa,"text-green-600",a[2]),4&s&&b(aa,"text-red-600",!a[2]),4&s&&b(ea,"fa-microphone",a[2]),4&s&&b(ea,"fa-microphone-slash",!a[2]),8&s&&b(ra,"text-green-600",a[3]),8&s&&b(ra,"text-red-600",!a[3]),a[1]?Pa?(Pa.p(a,s),2&s&&y(Pa,1)):(Pa=B(a),Pa.c(),y(Pa,1),Pa.m(wa.parentNode,wa)):Pa&&(O(),V(Pa,1,1,(()=>{Pa=null})),$())},i(a){ka||(y(Pa),ka=!0)},o(a){V(Pa),ka=!1},d(a){n(s),a&&n(p),a&&n(v),N(ja,a),a&&n(X),a&&n(Z),a&&n(Ia),Pa&&Pa.d(a),a&&n(wa),ya=!1,S(Va)}}}const X=({page:a})=>{const{params:s}=a;return{status:200,props:{roomId:s.id}}};function Z(a,s){return(null==s?void 0:s.getTracks().length)&&(a.srcObject=s),a.onloadedmetadata=function(s){a.play()},{update(s){Z(a,s)}}}function G(a,s,e){var c=this&&this.__awaiter||function(a,s,e,c){return new(e||(e=Promise))((function(t,l){function r(a){try{n(c.next(a))}catch(s){l(s)}}function o(a){try{n(c.throw(a))}catch(s){l(s)}}function n(a){var s;a.done?t(a.value):(s=a.value,s instanceof e?s:new e((function(a){a(s)}))).then(r,o)}n((c=c.apply(a,s||[])).next())}))};let t=[{id:"dd",name:"",stream:void 0}];T("id");let l=!1,r=!1,o=!1,{roomId:n}=s,i=0;function f(a,s=!r){return c(this,void 0,void 0,(function*(){e(2,r=s),console.log("toggleMic",r),t[0].stream.getAudioTracks().forEach((a=>a.enabled=r))}))}function d(a,s=!o){return c(this,void 0,void 0,(function*(){e(3,o=s),console.log("toggleCam",o),t[0].stream.getVideoTracks().forEach((a=>a.enabled=o))}))}H((()=>c(void 0,void 0,void 0,(function*(){localStorage.debug="*";const a=yield function(){return c(this,void 0,void 0,(function*(){return yield navigator.mediaDevices.getUserMedia({video:!0,audio:!0})}))}();e(0,t[0].stream=a,t),d(0,!1),f(0,!1);const s=R("/");console.log("This is not a peer");const l=new Peer(void 0,{host:"/",port:9e3});l.on("connection",(()=>console.log("connected"))),d(0,!1),f(0,!1),console.log(R),l.on("open",(a=>{s.emit("join-room",n,a)})),s.on("user-connected",(s=>{!function(a,s,c){const l=a.call(s,c);let r;l.on("stream",(a=>{r=function(a,s){return e(0,t=[...t,{name:"",stream:a,id:s}]),t.length-1}(a,s)})),l.on("close",(()=>t.splice(r,1)))}(l,s,a)}))}))));return a.$$set=a=>{"roomId"in a&&e(8,n=a.roomId)},[t,l,r,o,i,function(){e(4,2===i?i-=1:i+=1)},f,d,n,()=>e(1,l=!l),()=>{e(4,i=0),e(2,r=!1),e(3,o=!1)},()=>e(1,l=!1)]}export default class extends a{constructor(a){super(),s(this,a,G,K,e,{roomId:8})}}export{X as load};
