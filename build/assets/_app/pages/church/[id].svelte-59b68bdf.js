import{S as a,i as s,s as e,e as t,k as o,t as c,c as n,a as r,d as i,n as l,g as d,b as f,E as h,f as u,F as v,V as p,R as m,K as x,W as g,A as E}from"../../chunks/vendor-a95da043.js";function I(a){let s,e,E,I,k,w,y,P,b,V,j,A,D,N,T,M,O,S,U,F,R,$;return{c(){s=t("video"),e=o(),E=t("div"),I=t("span"),k=t("i"),w=o(),y=t("i"),P=o(),b=t("div"),V=t("span"),j=t("i"),A=o(),D=t("i"),N=o(),T=t("form"),M=t("input"),O=o(),S=t("input"),U=c(" Enter as admin"),this.h()},l(a){s=n(a,"VIDEO",{}),r(s).forEach(i),e=l(a),E=n(a,"DIV",{});var t=r(E);I=n(t,"SPAN",{class:!0});var o=r(I);k=n(o,"I",{class:!0}),r(k).forEach(i),w=l(o),y=n(o,"I",{class:!0}),r(y).forEach(i),o.forEach(i),t.forEach(i),P=l(a),b=n(a,"DIV",{class:!0});var c=r(b);V=n(c,"SPAN",{class:!0});var f=r(V);j=n(f,"I",{class:!0}),r(j).forEach(i),A=l(f),D=n(f,"I",{class:!0}),r(D).forEach(i),f.forEach(i),c.forEach(i),N=l(a),T=n(a,"FORM",{action:!0});var h=r(T);M=n(h,"INPUT",{type:!0,placeholder:!0,name:!0,class:!0}),O=l(h),S=n(h,"INPUT",{type:!0,name:!0,class:!0}),U=d(h," Enter as admin"),h.forEach(i),this.h()},h(){f(k,"class","fas fa-circle fa-stack-2x"),h(k,"text-green-600",a[1]),h(k,"text-red-600",!a[1]),f(y,"class","fas fa-stack-1x fa-inverse"),h(y,"fa-microphone",a[1]),h(y,"fa-microphone-slash",!a[1]),f(I,"class","fa-stack fa-lg rounded-full shadow-xl"),f(j,"class","fas fa-circle fa-stack-2x "),h(j,"text-green-600",a[2]),h(j,"text-red-600",!a[2]),f(D,"class","fas fa-video fa-stack-1x fa-inverse"),f(V,"class","fa-stack fa-lg rounded-full shadow-xl"),f(b,"class","md:ml-5"),f(M,"type","password"),f(M,"placeholder","Passcode"),f(M,"name","passcode"),M.required=!0,f(M,"class","svelte-tjt368"),f(S,"type","checkbox"),f(S,"name","admin"),f(S,"class","svelte-tjt368"),f(T,"action",F="/video/"+a[0])},m(t,o){u(t,s,o),u(t,e,o),u(t,E,o),v(E,I),v(I,k),v(I,w),v(I,y),u(t,P,o),u(t,b,o),v(b,V),v(V,j),v(V,A),v(V,D),u(t,N,o),u(t,T,o),v(T,M),v(T,O),v(T,S),v(T,U),R||($=[p(a[5].call(null,s)),m(E,"click",a[3]),m(b,"click",a[4])],R=!0)},p(a,[s]){2&s&&h(k,"text-green-600",a[1]),2&s&&h(k,"text-red-600",!a[1]),2&s&&h(y,"fa-microphone",a[1]),2&s&&h(y,"fa-microphone-slash",!a[1]),4&s&&h(j,"text-green-600",a[2]),4&s&&h(j,"text-red-600",!a[2]),1&s&&F!==(F="/video/"+a[0])&&f(T,"action",F)},i:x,o:x,d(a){a&&i(s),a&&i(e),a&&i(E),a&&i(P),a&&i(b),a&&i(N),a&&i(T),R=!1,g($)}}}const k=({page:a})=>{const{params:s}=a;return{status:200,props:{roomId:s.id}}};function w(a,s,e){var t=this&&this.__awaiter||function(a,s,e,t){return new(e||(e=Promise))((function(o,c){function n(a){try{i(t.next(a))}catch(s){c(s)}}function r(a){try{i(t.throw(a))}catch(s){c(s)}}function i(a){var s;a.done?o(a.value):(s=a.value,s instanceof e?s:new e((function(a){a(s)}))).then(n,r)}i((t=t.apply(a,s||[])).next())}))};let o,{roomId:c}=s,n=!1,r=!1;return E((()=>t(void 0,void 0,void 0,(function*(){})))),a.$$set=a=>{"roomId"in a&&e(0,c=a.roomId)},[c,n,r,function(a,s=!n){return t(this,void 0,void 0,(function*(){e(1,n=s),console.log("toggleMic",n),o.getAudioTracks().forEach((a=>a.enabled=n))}))},function(a,s=!r){return t(this,void 0,void 0,(function*(){e(2,r=s),console.log("toggleCam",r),o.getVideoTracks().forEach((a=>a.enabled=r))}))},function(a){navigator.mediaDevices.getUserMedia({video:!0,audio:!0}).then((s=>{o=s,a.srcObject=s}))}]}export default class extends a{constructor(a){super(),s(this,a,w,I,e,{roomId:0})}}export{k as load};
